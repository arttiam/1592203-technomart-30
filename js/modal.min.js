const modalWrite=document.querySelector(".modal-write-us"),linkModalWrite=document.querySelector(".link-contacts"),btnSubmit=document.querySelector(".style-btn-send-modal"),btnClose=document.querySelector(".btn-modal-write-us"),inputName=document.querySelector(".input-name"),inputEmail=document.querySelector(".input-email"),textMail=document.querySelector(".text-mail-modal"),modalMap=document.querySelector(".modal-map"),linkModalMap=document.querySelector(".link-map-contacts"),btnCloseMap=document.querySelector(".btn-modal-map"),storageName=localStorage.getItem("name"),storageEmail=localStorage.getItem("email"),btnBuys=document.querySelectorAll(".btn-buy"),modalBuy=document.querySelector(".modal-product-added"),buyClose=document.querySelector(".btn-modal-product-added"),continueShopping=document.querySelector(".continue-shopping");let isStorageSupport=!0,storage="";for(btnBuy of btnBuys)btnBuy.addEventListener("click",function(){modalBuy.classList.remove("visually-hidden")});continueShopping.addEventListener("click",function(e){e.preventDefault(),modalBuy.classList.add("visually-hidden")}),buyClose.addEventListener("click",function(e){e.preventDefault(),modalBuy.classList.add("visually-hidden")}),linkModalWrite.addEventListener("click",function(e){e.preventDefault(),modalWrite.classList.remove("hiding-content"),modalWrite.classList.add("opening-modal"),inputName.focus(),inputName.value=storageName||"",inputEmail.value=storageEmail||"",textMail.value=""}),btnClose.addEventListener("click",function(){modalWrite.classList.remove("not-filled"),inputEmail.classList.remove("not-filled-shadow"),inputName.classList.remove("not-filled-shadow"),textMail.classList.remove("not-filled-shadow"),modalWrite.classList.add("hiding-content")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(modalWrite.classList.contains("hiding-content")||(modalWrite.classList.remove("not-filled"),inputEmail.classList.remove("not-filled-shadow"),inputName.classList.remove("not-filled-shadow"),textMail.classList.remove("not-filled-shadow"),modalWrite.classList.add("hiding-content")),modalMap.classList.contains("visually-hidden")||modalMap.classList.add("visually-hidden"))}),btnSubmit.addEventListener("click",function(e){if(""===inputEmail.value||""===inputName.value||""===textMail.value)e.preventDefault(),""===inputEmail.value&&inputEmail.classList.add("not-filled-shadow"),""===inputName.value&&inputName.classList.add("not-filled-shadow"),""===textMail.value&&textMail.classList.add("not-filled-shadow"),modalWrite.classList.contains("not-filled")&&modalWrite.classList.remove("not-filled"),modalWrite.classList.remove("opening-modal"),modalWrite.offsetWidth,modalWrite.classList.add("not-filled");else{try{storage=localStorage("name",inputName.value)}catch(e){isStorageSupport=!1}isStorageSupport&&localStorage("email",inputEmail.value)}}),inputName.addEventListener("focus",function(){inputName.classList.remove("not-filled-shadow"),textMail.classList.remove("not-filled-shadow"),inputEmail.classList.remove("not-filled-shadow")}),inputEmail.addEventListener("focus",function(){inputEmail.classList.remove("not-filled-shadow"),textMail.classList.remove("not-filled-shadow"),inputName.classList.remove("not-filled-shadow")}),textMail.addEventListener("focus",function(){textMail.classList.remove("not-filled-shadow"),inputName.classList.remove("not-filled-shadow"),inputEmail.classList.remove("not-filled-shadow")}),linkModalMap.addEventListener("click",function(e){e.preventDefault(),modalMap.classList.remove("visually-hidden"),modalMap.classList.add("opening-modal-map")}),btnCloseMap.addEventListener("click",function(){modalMap.classList.add("visually-hidden"),modalMap.classList.remove("opening-modal-map")});